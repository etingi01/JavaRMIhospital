
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.sql.Date;
import java.util.ArrayList;

import javax.swing.*;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
 
/**
 * ProvinceClient: client application
 * @author http://lycog.com
 */
public class ProvinceClient {
    Registry registry = LocateRegistry.getRegistry("127.0.0.1");

	 IRemoteProvince rp = (IRemoteProvince) registry.lookup("Province");
     IRemoteAstheneis as = (IRemoteAstheneis) registry.lookup("Astheneis");
     IRemoteAstheneisAllergies al = (IRemoteAstheneisAllergies) registry.lookup("AstheneisAllergies");
     IRemoteAstheneisTravma at = (IRemoteAstheneisTravma) registry.lookup("AstheneisTravma");
     IRemoteComments com = (IRemoteComments) registry.lookup("comments");
     IRemoteWarnings warn= (IRemoteWarnings) registry.lookup("warnings");
     IRemoteRisk risk = (IRemoteRisk) registry.lookup("risk");
     IRemoteEidiIpallilwn eidiYpal = (IRemoteEidiIpallilwn) registry.lookup("eidiYpallilwn");
     IRemoteIstorikoTherapeias istoriko = (IRemoteIstorikoTherapeias) registry.lookup("istoriko");
     IRemotePatientAstheneies patientAsth = (IRemotePatientAstheneies) registry.lookup("patientAstheneies");
     IRemoteSiggenisAstheni siggenis = (IRemoteSiggenisAstheni) registry.lookup("siggeneis");
     IRemoteTherapeia therapeia = (IRemoteTherapeia) registry.lookup("therapeia");
     IRemoteTherapeiesAstheneies therapeiesAstheneies = (IRemoteTherapeiesAstheneies) registry.lookup("therapeiaAstheneies");
     IRemoteConsultation consultation = (IRemoteConsultation) registry.lookup("consult");
     IRemoteTypeAstheneias typeAsth = (IRemoteTypeAstheneias) registry.lookup("typeAstheneias");
    
  public static void main(String[] args) {
    try {
      //Get reference to rmi registry server
    	//System.setProperty("java.rmi.server.hostname","127.0.0.1");

      //Lookup server object
     
      
      
      //Save province
      Province bmc = new Province(8282, "rlouka01", "Rafaellita", "Louka", "99394781" , "rafkiola@gmail.com", 2);
      System.out.println("Saving provinces...");
      //rp.save(bmc);

      
	    String user = JOptionPane.showInputDialog("Δώστε το username σας");
	    
	    while (rp.findByUsername(user).getPassword()==0){
	    	user = JOptionPane.showInputDialog("Δώσατε μη υπαρκτό username.\n Δώστε ξανά το username σας");
	    }
	    String pass = JOptionPane.showInputDialog("Δώστε τον κωδικό σας");
	    int passwd = Integer.parseInt(pass);
	    int passwordofIpallilos = rp.findByUsername(user).getPassword();
	    
	    System.out.println(passwordofIpallilos);
	    while (passwd!=passwordofIpallilos){
		    user = JOptionPane.showInputDialog("Δώσατε λάθος κωδικό. Επαναλάβετε τη διαδικασία. \n Δώστε το username σας");
		    while (rp.findByUsername(user).getPassword()==0){
		    	user = JOptionPane.showInputDialog("Δώσατε μη υπαρκτό username.\n Δώστε ξανά το username σας");
		    }
		    pass = JOptionPane.showInputDialog("Δώστε τον κωδικό σας");
		    passwd = Integer.parseInt(pass);
		    passwordofIpallilos = rp.findByUsername(user).getPassword();
	    }
	    Province ipallilos = new Province();
	    ipallilos=rp.findByUsername(user);
	    
	    switch (ipallilos.getCodeType()){
	    
	    case 1:
	    		
	    		EpifaneiaReceptionist(ipallilos);
	    		break;
	    case 2: EpifaneiaDoctor(ipallilos);
	    		break;
	    case 3: EpifaneiaNurse(ipallilos);
	    		break;
	    case 4: EpifaneiaHealthVisitor(ipallilos);
	    		break;
	    case 5: EpifaneiaMedicalRecordsStaff(ipallilos);
	    		break;
	    case 6: EpifaneiaManagers(ipallilos);
	    		break;
	    }
	    
	    

    } catch (Exception e) {
        System.out.println(e);
      }
  }
}